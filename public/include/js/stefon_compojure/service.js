// Compiled by ClojureScript 0.0-2138
goog.provide('stefon_compojure.service');
goog.require('cljs.core');
goog.require('ajax.core');
goog.require('ajax.core');
stefon_compojure.service.fubar = (function fubar(){return "fubar";
});
stefon_compojure.service.handler = (function handler(response){return console.log([cljs.core.str(response)].join(''));
});
stefon_compojure.service.error_handler = (function error_handler(p__5292){var map__5294 = p__5292;var map__5294__$1 = ((cljs.core.seq_QMARK_.call(null,map__5294))?cljs.core.apply.call(null,cljs.core.hash_map,map__5294):map__5294);var status_text = cljs.core.get.call(null,map__5294__$1,new cljs.core.Keyword(null,"status-text","status-text",4371493274));var status = cljs.core.get.call(null,map__5294__$1,new cljs.core.Keyword(null,"status","status",4416389988));return console.log([cljs.core.str("something bad happened ["),cljs.core.str(status),cljs.core.str("] : "),cljs.core.str(status_text)].join(''));
});
stefon_compojure.service.create_post = (function create_post(message){return ajax.core.PUT.call(null,"/post",new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"params","params",4313443576),message,new cljs.core.Keyword(null,"handler","handler",1706707644),stefon_compojure.service.handler,new cljs.core.Keyword(null,"error-handler","error-handler",1866823671),stefon_compojure.service.error_handler], null));
});
stefon_compojure.service.retrieve_post = (function retrieve_post(pid){return ajax.core.GET.call(null,"/post",new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"params","params",4313443576),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",1013907597),pid], null),new cljs.core.Keyword(null,"handler","handler",1706707644),stefon_compojure.service.handler,new cljs.core.Keyword(null,"error-handler","error-handler",1866823671),stefon_compojure.service.error_handler], null));
});
stefon_compojure.service.update_post = (function update_post(message){return ajax.core.POST.call(null,"/post",new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"params","params",4313443576),message,new cljs.core.Keyword(null,"handler","handler",1706707644),stefon_compojure.service.handler,new cljs.core.Keyword(null,"error-handler","error-handler",1866823671),stefon_compojure.service.error_handler], null));
});
stefon_compojure.service.delete_post = (function delete_post(pid){return ajax.core.DELETE.call(null,"/post",new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"params","params",4313443576),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"id","id",1013907597),pid], null),new cljs.core.Keyword(null,"handler","handler",1706707644),stefon_compojure.service.handler,new cljs.core.Keyword(null,"error-handler","error-handler",1866823671),stefon_compojure.service.error_handler], null));
});
stefon_compojure.service.retrieve_posts = (function retrieve_posts(){return ajax.core.GET.call(null,"/posts",new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"handler","handler",1706707644),stefon_compojure.service.handler,new cljs.core.Keyword(null,"error-handler","error-handler",1866823671),stefon_compojure.service.error_handler], null));
});
